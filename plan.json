{"format_version":"1.2","terraform_version":"1.5.7","variables":{"GKE_NUM_NODES":{"value":"2"},"GOOGLE_PROJECT":{"value":"tetris-effect-419120"},"GOOGLE_REGION":{"value":"asia-east1-b"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.gke_cluster.google_container_cluster.this","mode":"managed","type":"google_container_cluster","name":"this","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"binary_authorization":[],"description":null,"dns_config":[],"enable_autopilot":null,"enable_binary_authorization":false,"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_shielded_nodes":true,"enable_tpu":null,"gateway_api_config":[],"initial_node_count":1,"location":"asia-east1-b","maintenance_policy":[],"min_master_version":null,"name":"main","network":"default","network_policy":[],"node_config":[{"boot_disk_kms_key":null,"gcfs_config":[],"gvnic":[],"kubelet_config":[],"linux_node_config":[],"logging_variant":"DEFAULT","node_group":null,"preemptible":false,"reservation_affinity":[],"resource_labels":null,"spot":false,"tags":null,"workload_metadata_config":[{"mode":"GKE_METADATA"}]}],"private_cluster_config":[],"remove_default_node_pool":true,"resource_labels":null,"resource_usage_export_config":[],"timeouts":null,"workload_identity_config":[{"workload_pool":"tetris-effect-419120.svc.id.goog"}]},"sensitive_values":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"gateway_api_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[{"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"metadata":{},"oauth_scopes":[],"reservation_affinity":[],"shielded_instance_config":[],"taint":[],"workload_metadata_config":[{}]}],"node_locations":[],"node_pool":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"service_external_ips_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[{}]}},{"address":"module.gke_cluster.google_container_node_pool.this","mode":"managed","type":"google_container_node_pool","name":"this","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"autoscaling":[],"cluster":"main","location":"asia-east1-b","name":"main","node_config":[{"boot_disk_kms_key":null,"gcfs_config":[],"gvnic":[],"kubelet_config":[],"linux_node_config":[],"logging_variant":"DEFAULT","machine_type":"g1-small","node_group":null,"preemptible":false,"reservation_affinity":[],"resource_labels":null,"spot":false,"tags":null}],"node_count":2,"placement_policy":[],"timeouts":null},"sensitive_values":{"autoscaling":[],"instance_group_urls":[],"managed_instance_group_urls":[],"management":[],"network_config":[],"node_config":[{"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"metadata":{},"oauth_scopes":[],"reservation_affinity":[],"shielded_instance_config":[],"taint":[],"workload_metadata_config":[]}],"node_locations":[],"placement_policy":[],"upgrade_settings":[]}},{"address":"module.gke_cluster.local_file.kubeconfig","mode":"managed","type":"local_file","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content_base64":null,"directory_permission":"0777","file_permission":"0400","filename":".terraform/modules/gke_cluster/kubeconfig","sensitive_content":null,"source":null},"sensitive_values":{"content":true}}],"address":"module.gke_cluster","child_modules":[{"resources":[{"address":"module.gke_cluster.module.gke_auth.data.google_client_config.provider","mode":"data","type":"google_client_config","name":"provider","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"sensitive_values":{}},{"address":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","mode":"data","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"location":"asia-east1-b","name":"main","project":"tetris-effect-419120"},"sensitive_values":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"gateway_api_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_labels":{},"resource_usage_export_config":[],"service_external_ips_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}}],"address":"module.gke_cluster.module.gke_auth"}]}]}},"resource_changes":[{"address":"module.gke_cluster.google_container_cluster.this","module_address":"module.gke_cluster","mode":"managed","type":"google_container_cluster","name":"this","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"binary_authorization":[],"description":null,"dns_config":[],"enable_autopilot":null,"enable_binary_authorization":false,"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_shielded_nodes":true,"enable_tpu":null,"gateway_api_config":[],"initial_node_count":1,"location":"asia-east1-b","maintenance_policy":[],"min_master_version":null,"name":"main","network":"default","network_policy":[],"node_config":[{"boot_disk_kms_key":null,"gcfs_config":[],"gvnic":[],"kubelet_config":[],"linux_node_config":[],"logging_variant":"DEFAULT","node_group":null,"preemptible":false,"reservation_affinity":[],"resource_labels":null,"spot":false,"tags":null,"workload_metadata_config":[{"mode":"GKE_METADATA"}]}],"private_cluster_config":[],"remove_default_node_pool":true,"resource_labels":null,"resource_usage_export_config":[],"timeouts":null,"workload_identity_config":[{"workload_pool":"tetris-effect-419120.svc.id.goog"}]},"after_unknown":{"addons_config":true,"authenticator_groups_config":true,"binary_authorization":[],"cluster_autoscaling":true,"cluster_ipv4_cidr":true,"confidential_nodes":true,"cost_management_config":true,"database_encryption":true,"datapath_provider":true,"default_max_pods_per_node":true,"default_snat_status":true,"dns_config":[],"enable_intranode_visibility":true,"endpoint":true,"gateway_api_config":[],"id":true,"ip_allocation_policy":true,"label_fingerprint":true,"logging_config":true,"logging_service":true,"maintenance_policy":[],"master_auth":true,"master_authorized_networks_config":true,"master_version":true,"mesh_certificates":true,"monitoring_config":true,"monitoring_service":true,"network_policy":[],"networking_mode":true,"node_config":[{"disk_size_gb":true,"disk_type":true,"gcfs_config":[],"guest_accelerator":true,"gvnic":[],"image_type":true,"kubelet_config":[],"labels":true,"linux_node_config":[],"local_ssd_count":true,"machine_type":true,"metadata":true,"min_cpu_platform":true,"oauth_scopes":true,"reservation_affinity":[],"service_account":true,"shielded_instance_config":true,"taint":true,"workload_metadata_config":[{}]}],"node_locations":true,"node_pool":true,"node_pool_defaults":true,"node_version":true,"notification_config":true,"operation":true,"private_cluster_config":[],"private_ipv6_google_access":true,"project":true,"release_channel":true,"resource_usage_export_config":[],"self_link":true,"service_external_ips_config":true,"services_ipv4_cidr":true,"subnetwork":true,"tpu_ipv4_cidr_block":true,"vertical_pod_autoscaling":true,"workload_identity_config":[{}]},"before_sensitive":false,"after_sensitive":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"gateway_api_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[{"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"metadata":{},"oauth_scopes":[],"reservation_affinity":[],"shielded_instance_config":[],"taint":[],"workload_metadata_config":[{}]}],"node_locations":[],"node_pool":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"service_external_ips_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[{}]}}},{"address":"module.gke_cluster.google_container_node_pool.this","module_address":"module.gke_cluster","mode":"managed","type":"google_container_node_pool","name":"this","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"autoscaling":[],"cluster":"main","location":"asia-east1-b","name":"main","node_config":[{"boot_disk_kms_key":null,"gcfs_config":[],"gvnic":[],"kubelet_config":[],"linux_node_config":[],"logging_variant":"DEFAULT","machine_type":"g1-small","node_group":null,"preemptible":false,"reservation_affinity":[],"resource_labels":null,"spot":false,"tags":null}],"node_count":2,"placement_policy":[],"timeouts":null},"after_unknown":{"autoscaling":[],"id":true,"initial_node_count":true,"instance_group_urls":true,"managed_instance_group_urls":true,"management":true,"max_pods_per_node":true,"name_prefix":true,"network_config":true,"node_config":[{"disk_size_gb":true,"disk_type":true,"gcfs_config":[],"guest_accelerator":true,"gvnic":[],"image_type":true,"kubelet_config":[],"labels":true,"linux_node_config":[],"local_ssd_count":true,"metadata":true,"min_cpu_platform":true,"oauth_scopes":true,"reservation_affinity":[],"service_account":true,"shielded_instance_config":true,"taint":true,"workload_metadata_config":true}],"node_locations":true,"operation":true,"placement_policy":[],"project":true,"upgrade_settings":true,"version":true},"before_sensitive":false,"after_sensitive":{"autoscaling":[],"instance_group_urls":[],"managed_instance_group_urls":[],"management":[],"network_config":[],"node_config":[{"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"metadata":{},"oauth_scopes":[],"reservation_affinity":[],"shielded_instance_config":[],"taint":[],"workload_metadata_config":[]}],"node_locations":[],"placement_policy":[],"upgrade_settings":[]}}},{"address":"module.gke_cluster.local_file.kubeconfig","module_address":"module.gke_cluster","mode":"managed","type":"local_file","name":"kubeconfig","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content_base64":null,"directory_permission":"0777","file_permission":"0400","filename":".terraform/modules/gke_cluster/kubeconfig","sensitive_content":null,"source":null},"after_unknown":{"content":true,"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"content":true,"sensitive_content":true}}},{"address":"module.gke_cluster.module.gke_auth.data.google_client_config.provider","module_address":"module.gke_cluster.module.gke_auth","mode":"data","type":"google_client_config","name":"provider","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["read"],"before":null,"after":{},"after_unknown":{"access_token":true,"id":true,"project":true,"region":true,"zone":true},"before_sensitive":false,"after_sensitive":{"access_token":true}},"action_reason":"read_because_dependency_pending"},{"address":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","module_address":"module.gke_cluster.module.gke_auth","mode":"data","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["read"],"before":null,"after":{"location":"asia-east1-b","name":"main","project":"tetris-effect-419120"},"after_unknown":{"addons_config":true,"authenticator_groups_config":true,"binary_authorization":true,"cluster_autoscaling":true,"cluster_ipv4_cidr":true,"confidential_nodes":true,"cost_management_config":true,"database_encryption":true,"datapath_provider":true,"default_max_pods_per_node":true,"default_snat_status":true,"description":true,"dns_config":true,"enable_autopilot":true,"enable_binary_authorization":true,"enable_intranode_visibility":true,"enable_kubernetes_alpha":true,"enable_l4_ilb_subsetting":true,"enable_legacy_abac":true,"enable_shielded_nodes":true,"enable_tpu":true,"endpoint":true,"gateway_api_config":true,"id":true,"initial_node_count":true,"ip_allocation_policy":true,"label_fingerprint":true,"logging_config":true,"logging_service":true,"maintenance_policy":true,"master_auth":true,"master_authorized_networks_config":true,"master_version":true,"mesh_certificates":true,"min_master_version":true,"monitoring_config":true,"monitoring_service":true,"network":true,"network_policy":true,"networking_mode":true,"node_config":true,"node_locations":true,"node_pool":true,"node_pool_defaults":true,"node_version":true,"notification_config":true,"operation":true,"private_cluster_config":true,"private_ipv6_google_access":true,"release_channel":true,"remove_default_node_pool":true,"resource_labels":true,"resource_usage_export_config":true,"self_link":true,"service_external_ips_config":true,"services_ipv4_cidr":true,"subnetwork":true,"tpu_ipv4_cidr_block":true,"vertical_pod_autoscaling":true,"workload_identity_config":true},"before_sensitive":false,"after_sensitive":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"gateway_api_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_labels":{},"resource_usage_export_config":[],"service_external_ips_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}},"action_reason":"read_because_dependency_pending"}],"configuration":{"provider_config":{"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","expressions":{"project":{"references":["var.GOOGLE_PROJECT"]},"region":{"references":["var.GOOGLE_REGION"]}}},"module.gke_cluster:google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","version_constraint":"4.52.0","module_address":"module.gke_cluster","expressions":{"project":{"references":["var.GOOGLE_PROJECT"]},"region":{"references":["var.GOOGLE_REGION"]}}},"module.gke_cluster:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","module_address":"module.gke_cluster"}},"root_module":{"module_calls":{"gke_cluster":{"source":"github.com/peperd/tf-google-gke-cluster","expressions":{"GKE_NUM_NODES":{"constant_value":2},"GOOGLE_PROJECT":{"references":["var.GOOGLE_PROJECT"]},"GOOGLE_REGION":{"references":["var.GOOGLE_REGION"]}},"module":{"outputs":{"kubeconfig":{"expression":{"references":["path.module"]},"description":"The path to the kubeconfig file"}},"resources":[{"address":"google_container_cluster.this","mode":"managed","type":"google_container_cluster","name":"this","provider_config_key":"module.gke_cluster:google","expressions":{"initial_node_count":{"constant_value":1},"location":{"references":["var.GOOGLE_REGION"]},"name":{"references":["var.GKE_CLUSTER_NAME"]},"node_config":[{"workload_metadata_config":[{"mode":{"constant_value":"GKE_METADATA"}}]}],"remove_default_node_pool":{"constant_value":true},"workload_identity_config":[{"workload_pool":{"references":["var.GOOGLE_PROJECT"]}}]},"schema_version":1},{"address":"google_container_node_pool.this","mode":"managed","type":"google_container_node_pool","name":"this","provider_config_key":"module.gke_cluster:google","expressions":{"cluster":{"references":["google_container_cluster.this.name","google_container_cluster.this"]},"location":{"references":["google_container_cluster.this.location","google_container_cluster.this"]},"name":{"references":["var.GKE_POOL_NAME"]},"node_config":[{"machine_type":{"references":["var.GKE_MACHINE_TYPE"]}}],"node_count":{"references":["var.GKE_NUM_NODES"]},"project":{"references":["google_container_cluster.this.project","google_container_cluster.this"]}},"schema_version":1},{"address":"local_file.kubeconfig","mode":"managed","type":"local_file","name":"kubeconfig","provider_config_key":"module.gke_cluster:local","expressions":{"content":{"references":["module.gke_auth.kubeconfig_raw","module.gke_auth"]},"file_permission":{"constant_value":"0400"},"filename":{"references":["path.module"]}},"schema_version":0}],"module_calls":{"gke_auth":{"source":"terraform-google-modules/kubernetes-engine/google//modules/auth","expressions":{"cluster_name":{"references":["google_container_cluster.this.name","google_container_cluster.this"]},"location":{"references":["var.GOOGLE_REGION"]},"project_id":{"references":["var.GOOGLE_PROJECT"]}},"module":{"outputs":{"cluster_ca_certificate":{"sensitive":true,"expression":{"references":["local.cluster_ca_certificate"]},"description":"The cluster_ca_certificate value for use with the kubernetes provider."},"host":{"expression":{"references":["local.host"]},"description":"The host value for use with the kubernetes provider."},"kubeconfig_raw":{"sensitive":true,"expression":{"references":["path.module","local.context","local.cluster_ca_certificate","local.endpoint","data.google_client_config.provider.access_token","data.google_client_config.provider"]},"description":"A kubeconfig file configured to access the GKE cluster."},"token":{"sensitive":true,"expression":{"references":["data.google_client_config.provider.access_token","data.google_client_config.provider"]},"description":"The token value for use with the kubernetes provider."}},"resources":[{"address":"data.google_client_config.provider","mode":"data","type":"google_client_config","name":"provider","provider_config_key":"module.gke_cluster:google","schema_version":0},{"address":"data.google_container_cluster.gke_cluster","mode":"data","type":"google_container_cluster","name":"gke_cluster","provider_config_key":"module.gke_cluster:google","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.cluster_name"]},"project":{"references":["var.project_id"]}},"schema_version":0}],"variables":{"cluster_name":{"description":"The name of the GKE cluster."},"location":{"description":"The location (region or zone) of the GKE cluster."},"project_id":{"description":"The GCP project of the GKE cluster."},"use_private_endpoint":{"default":false,"description":"Connect on the private GKE cluster endpoint"}}},"version_constraint":"\u003e= 24.0.0","depends_on":["google_container_cluster.this"]}},"variables":{"GKE_CLUSTER_NAME":{"default":"main","description":"GKE cluster name"},"GKE_MACHINE_TYPE":{"default":"g1-small","description":"Machine type"},"GKE_NUM_NODES":{"default":4,"description":"GKE nodes number"},"GKE_POOL_NAME":{"default":"main","description":"GKE pool name"},"GOOGLE_PROJECT":{"description":"GCP project name"},"GOOGLE_REGION":{"default":"us-central1-c","description":"GCP region to use"}}}}},"variables":{"GKE_NUM_NODES":{"description":"number of nodes"},"GOOGLE_PROJECT":{"description":"GCP project name"},"GOOGLE_REGION":{"description":"GCP region name"}}}},"relevant_attributes":[{"resource":"module.gke_cluster.google_container_cluster.this","attribute":["project"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","attribute":["master_auth"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","attribute":["master_auth",0,"cluster_ca_certificate"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","attribute":["private_cluster_config",0,"private_endpoint"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","attribute":["endpoint"]},{"resource":"module.gke_cluster.google_container_cluster.this","attribute":["name"]},{"resource":"module.gke_cluster.google_container_cluster.this","attribute":["location"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_client_config.provider","attribute":["access_token"]},{"resource":"module.gke_cluster.module.gke_auth.data.google_container_cluster.gke_cluster","attribute":["name"]}],"timestamp":"2024-05-08T19:19:01Z"}
